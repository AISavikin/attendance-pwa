<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üìä –û—Ç–º–µ—Ç–∫–∞ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏</title>
    
    <!-- –õ–æ–∫–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ -->
    <link href="./styles.css" rel="stylesheet">
    
    <!-- PWA Meta Tags -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#1e293b">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="icons/icon-192.png">
</head>
<body>
    <div class="app-container">
        <!-- Offline Indicator -->
        <div id="offline-indicator" class="offline-indicator hidden">
            ‚ö†Ô∏è –í—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ –≤ –æ—Ñ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º–µ
        </div>

        <!-- Loading Overlay -->
        <div id="app-loading" class="loading-overlay">
            <div class="loading-content">
                <div class="loading-spinner">üìä</div>
                <p class="text-muted">–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è...</p>
            </div>
        </div>

        <!-- Header -->
        <header class="app-header">
                <div class="header-content">
                    <div class="header-top">
                        <h1 class="header-title">üìä –ü–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å</h1>
                        <div class="header-actions">
                            <button id="manage-groups-btn" class="btn-icon" title="–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø–∞–º–∏ –∏ —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏">
                                üë•
                            </button>
                            <button id="schedule-settings-btn" class="btn-icon" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è">
                                ‚öôÔ∏è
                            </button>
                        </div>
                    </div>
                
                <div class="form-group date-input-container">
                    <label class="form-label">üìÖ –î–∞—Ç–∞</label>
                    <div class="date-display" id="date-display">
                        <!-- –î–∞—Ç–∞ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∑–¥–µ—Å—å -->
                    </div>
                    <input type="date" id="date-selector" class="date-input-hidden">
                </div>

                <div class="form-group">
                    <label class="form-label">üë• –ì—Ä—É–ø–ø–∞</label>
                    <select id="group-selector" class="form-select">
                        <!-- –ì—Ä—É–ø–ø—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </select>
                </div>

                <!-- –ö–Ω–æ–ø–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ PWA -->
                <button id="installButton" class="btn btn-primary hidden mt-2">
                    üì± –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <!-- Main Content -->
        <main class="app-main">
            <div id="students-container" class="students-container">
                <!-- Students will be dynamically inserted here -->
            </div>
            
            <!-- Action Buttons -->
            <div class="action-buttons">
                <button id="export-btn" class="btn btn-primary">
                    üì§ –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
                </button>
                <label class="btn btn-success">
                    üì• –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
                    <input type="file" id="import-file" class="file-input" accept=".json">
                </label>
            </div>
        </main>
        <!-- Modal for Schedule Settings -->
        <div id="schedule-modal" class="modal-overlay">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title">üìÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è</h2>
                    <button id="close-schedule-modal" class="modal-close">‚úï</button>
                </div>
                
                <div class="modal-body">
                    <p class="text-muted mb-4">–í—ã–±–µ—Ä–∏—Ç–µ –¥–Ω–∏ –Ω–µ–¥–µ–ª–∏, –≤ –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ—Ö–æ–¥—è—Ç –∑–∞–Ω—è—Ç–∏—è:</p>
                    
                    <div class="schedule-days">
                        <label class="schedule-day">
                            <input type="checkbox" value="1" class="day-checkbox"> –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫
                        </label>
                        <label class="schedule-day">
                            <input type="checkbox" value="2" class="day-checkbox"> –í—Ç–æ—Ä–Ω–∏–∫
                        </label>
                        <label class="schedule-day">
                            <input type="checkbox" value="3" class="day-checkbox"> –°—Ä–µ–¥–∞
                        </label>
                        <label class="schedule-day">
                            <input type="checkbox" value="4" class="day-checkbox"> –ß–µ—Ç–≤–µ—Ä–≥
                        </label>
                        <label class="schedule-day">
                            <input type="checkbox" value="5" class="day-checkbox"> –ü—è—Ç–Ω–∏—Ü–∞
                        </label>
                        <label class="schedule-day">
                            <input type="checkbox" value="6" class="day-checkbox"> –°—É–±–±–æ—Ç–∞
                        </label>
                        <label class="schedule-day">
                            <input type="checkbox" value="0" class="day-checkbox"> –í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ
                        </label>
                    </div>
                </div>
                
                <div class="modal-footer">
                    <button id="save-schedule-btn" class="btn btn-primary w-full">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ</button>
                </div>
            </div>
        </div>
    

        <!-- Student Stats Modal -->
        <div id="student-stats-modal" class="modal-overlay">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="student-stats-name" class="modal-title">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å—Ç—É–¥–µ–Ω—Ç–∞</h2>
                    <button id="close-stats-modal" class="modal-close">‚úï</button>
                </div>
                
                <div class="modal-body">
                    <div class="form-group">
                        <label class="form-label">üìÖ –í—ã–±–µ—Ä–∏—Ç–µ –º–µ—Å—è—Ü</label>
                        <select id="stats-month-selector" class="form-select">
                            <!-- –ú–µ—Å—è—Ü—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </select>
                    </div>
                    
                    <div id="student-stats-content">
                        <!-- –ó–∞–ø–∏—Å–∏ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∑–¥–µ—Å—å -->
                    </div>
                </div>
                
                <div class="modal-footer">
                    <button id="close-stats-btn" class="btn btn-primary w-full">–ó–∞–∫—Ä—ã—Ç—å</button>
                </div>
            </div>
        </div>
        <!-- Modal for Groups and Students Management -->
        <div id="manage-modal" class="modal-overlay">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title">üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø–∞–º–∏ –∏ —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏</h2>
                    <button id="close-manage-modal" class="modal-close">‚úï</button>
                </div>
                
                <div class="modal-body">
                    <!-- Tabs Navigation -->
                    <div class="tabs-header">
                        <button class="tab-button active" data-tab="students-tab">–°—Ç—É–¥–µ–Ω—Ç—ã</button>
                        <button class="tab-button" data-tab="groups-tab">–ì—Ä—É–ø–ø—ã</button>
                    </div>
                    
                    <!-- Students Tab -->
                    <div id="students-tab" class="tab-content active">
                        <div class="form-group">
                            <label class="form-label">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞</label>
                            <div class="input-group">
                                <input type="text" id="new-student-name" class="form-input" placeholder="–§–ò–û —Å—Ç—É–¥–µ–Ω—Ç–∞">
                                <select id="new-student-group" class="form-select">
                                    <!-- Groups will be populated dynamically -->
                                </select>
                                <button id="add-student-btn" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å</button>
                            </div>
                        </div>
                        
                        <div class="students-list-container">
                            <h3 class="section-title">–°–ø–∏—Å–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</h3>
                            <div class="filter-controls">
                                <select id="student-group-filter" class="form-select">
                                    <option value="">–í—Å–µ –≥—Ä—É–ø–ø—ã</option>
                                    <!-- Groups will be populated dynamically -->
                                </select>
                                <input type="text" id="student-search" class="form-input" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏...">
                            </div>
                            <div id="students-list" class="students-list">
                                <!-- Students will be dynamically inserted here -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- Groups Tab -->
                    <div id="groups-tab" class="tab-content">
                        <div class="form-group">
                            <label class="form-label">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –≥—Ä—É–ø–ø—É</label>
                            <div class="input-group">
                                <input type="text" id="new-group-name" class="form-input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã">
                                <button id="add-group-btn" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å</button>
                            </div>
                        </div>
                        
                        <div class="groups-list-container">
                            <h3 class="section-title">–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –≥—Ä—É–ø–ø—ã</h3>
                            <div id="groups-list" class="groups-list">
                                <!-- Groups will be dynamically inserted here -->
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="modal-footer">
                    <button id="close-manage-modal-btn" class="btn btn-primary w-full">–ó–∞–∫—Ä—ã—Ç—å</button>
                </div>
            </div>
        </div>
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º JavaScript —Ñ–∞–π–ª—ã -->
    <script src="./storage.js"></script>
    <script src="./app.js"></script>
</body>
</html>